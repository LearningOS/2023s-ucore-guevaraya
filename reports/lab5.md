1, 在我们的多线程实现中，当主线程 (即 0 号线程) 退出时，视为整个进程退出， 此时需要结束该进程管理的所有线程并回收其资源。

* 需要回收的资源有哪些？
根据 struct  thread下需要回收的资源有：ustack，kstack，trapframe ，以及申请的锁资源（metux,semaphore,condvar）需要强制释放；

* 其他线程的 struct thread 可能在哪些位置被引用，分别是否需要回收，为什么？
trap的系统调用，异常处理等
2，对比以下两种 mutex_unlock 中阻塞锁的实现，二者有什么区别？这些区别可能会导致什么问题？ （假设无论哪种实现，对应的 mutex_lock 均正确处理了 m->locked）
V1没有考虑线程异常退出的情况，如果线程提前被释放了，那么其metux锁还会持有，导致其他现场死锁；
